# -*- coding: utf-8 -*-
"""app.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1u1odsTNuFO7rwZcHzMzFMm4WxAsbuqJd
"""

import streamlit as st
import pandas as pd
import numpy as np
import pickle
import os

st.set_page_config(page_title="House Price Prediction System")

MODEL_PATH = os.path.join("model", "house_price_model.pkl")

with open(MODEL_PATH, "rb") as f:
    model, scaler, neighborhood_mapping = pickle.load(f)

st.title("üè† House Price Prediction System")

overall_qual = st.slider("Overall Quality (1‚Äì10)", 1, 10, 5)
gr_liv_area = st.number_input("Above Ground Living Area (sq ft)", value=1500)
total_bsmt_sf = st.number_input("Total Basement Area (sq ft)", value=800)
garage_cars = st.slider("Garage Capacity (cars)", 0, 4, 2)
year_built = st.number_input("Year Built", value=2000)

neighborhood = st.selectbox(
    "Neighborhood",
    list(neighborhood_mapping.keys())
)

if st.button("Predict House Price"):
    neighborhood_encoded = neighborhood_mapping[neighborhood]

    input_df = pd.DataFrame([{
        "OverallQual": overall_qual,
        "GrLivArea": gr_liv_area,
        "TotalBsmtSF": total_bsmt_sf,
        "GarageCars": garage_cars,
        "YearBuilt": year_built,
        "Neighborhood": neighborhood_encoded
    }])

    input_scaled = scaler.transform(input_df)
    prediction = model.predict(input_scaled)[0]

    st.success(f"Estimated House Price: ${prediction:,.2f}")